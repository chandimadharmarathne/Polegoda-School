<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="UTF-8" />
<title>Live Fund Status</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Sinhala:wght@400;600;700&display=swap" rel="stylesheet">

<style>

* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: Arial, Helvetica, sans-serif;
  background: #000;
  overflow: hidden;
}

/* ===== POSTER ===== */
.poster {
  width: 100vw;
  height: 100vh;
  background-image: url("preview.png");
  background-size: cover;
  background-position: center;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
}

/* ===== Shape Effect ===== */
.shape-shape {
  position: absolute;
  top: 20px;
  left: 20px;
  width: 510px;
  z-index: 3;
  animation: logoGlow 2.5s ease-in-out infinite alternate;
}

/* ===== ANNIVERSARY LOGO ===== */
.anniversary-logo {
  position: absolute;
  top: 20px;
  left: 20px;
  width: 110px;
  z-index: 3;
  animation: logoGlow 2.5s ease-in-out infinite alternate;
}

/* ===== GLOW ===== */
@keyframes logoGlow {
  from { filter: drop-shadow(0 0 6px rgba(255,215,0,0.3)); }
  to { filter: drop-shadow(0 0 18px rgba(255,215,0,0.8)); }
}

/* ===== ANNIVERSARY TEXT ===== */
.anniversary-text {
  position: absolute;
  top: 20px;
  right: 30px;
  text-align: center;
  z-index: 3;
  font-family: 'Noto Sans Sinhala', serif;
  font-style: italic;
  color: white;
}

.anniversary-year {
  font-size: 18px;
}

.anniversary-main {
  font-size: 42px;
  font-weight: 700;

  background: linear-gradient(45deg,#fff,#ffd700,#fff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;

  animation: anniversaryGlow 2.5s ease-in-out infinite alternate;
}

@keyframes anniversaryGlow {
  from { text-shadow: 0 0 8px rgba(255,215,0,0.4); }
  to { text-shadow: 0 0 25px rgba(255,215,0,0.9); }
}

/* ===== CENTER CARD ===== */
.overlay {
  background: rgba(0,0,0,0.65);
  padding: 28px 60px;
  border-radius: 22px;
  text-align: center;
  color: #fff;
  max-width: 92%;
  box-shadow: 0 0 45px rgba(0,0,0,0.7);
  z-index: 2;
}

.title { font-size: 32px; font-weight: 800; }
.subtitle { font-size: 20px; }

/* ===== AMOUNT ===== */
.amount {
  position: relative;
  font-size: 54px;
  font-weight: 900;
  color: #ffd700;
  margin: 30px 0 18px;
  animation: pulse 2.5s infinite;
  text-shadow: 0 0 18px rgba(255,215,0,0.6);
  overflow: hidden;
}

.amount::after {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 50%;
  height: 100%;
  background: linear-gradient(120deg,transparent,rgba(255,255,255,0.5),transparent);
  animation: shimmer 3.5s infinite;
}

@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.06); }
  100% { transform: scale(1); }
}

@keyframes shimmer {
  0% { left: -100%; }
  60% { left: 120%; }
  100% { left: 120%; }
}

.updated { font-size: 15px; opacity: .85; }

/* ===== BOTTOM HEADER ===== */
.school-header {
  position: absolute;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);

  display: flex;
  align-items: center;
  gap: 12px;
  z-index: 3;
}

.school-logo {
  width: 70px;
  animation: logoGlow 2.5s infinite alternate;
}

.school-text {
  font-family: 'Noto Sans Sinhala', sans-serif;
  font-size: 24px;
  font-weight: 600;
  color: white;
}

/* ===== BUBBLES ===== */
.bubbles {
  position: absolute;
  bottom: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
}

.bubbles span {
  position: absolute;
  bottom: -60px;
  width: 12px;
  height: 12px;
  background: rgba(255,255,255,0.18);
  border-radius: 50%;
  animation: bubble 18s infinite ease-in;
}

.bubbles span:nth-child(1){ left:10% }
.bubbles span:nth-child(2){ left:25% }
.bubbles span:nth-child(3){ left:50% }
.bubbles span:nth-child(4){ left:70% }
.bubbles span:nth-child(5){ left:90% }

@keyframes bubble {
  0% { transform: translateY(0); opacity:0; }
  10% { opacity:.3 }
  100% { transform: translateY(-120vh); opacity:0 }
}

/* ========================================================= */
/* ================= MOBILE RESPONSIVE ====================== */
/* ========================================================= */

@media (max-width:768px){

  .shape-shape { width:260px; }

  .anniversary-logo { width:70px; }

  .anniversary-main { font-size:26px; }

  .anniversary-year { font-size:14px; }

  .overlay { padding:22px 20px; }

  .title { font-size:22px; }

  .subtitle { font-size:16px; }

  .amount { font-size:36px; }

  .school-logo { width:45px; }

  .school-text {
    font-size:16px;
    text-align:center;
  }

  .school-header {
    flex-direction: column;
    gap:6px;
    bottom: 65px;
  }

}

</style>
</head>

<body>

<div class="poster">

  <img src="100shape.png" class="shape-shape">
  <img src="Anniversary.png" class="anniversary-logo">

  <div class="anniversary-text">
    <div class="anniversary-main">‡∂Ø‡∑Ñ‡∑É‡∑ä ‡∑Ä‡∂ß‡∑í‡∂±</div>
    <div class="anniversary-year">1926 - 2026</div>
    <div class="anniversary-main">‡∑É‡∑í‡∂∫‡∂ö‡∑ä ‡∑Ä‡∑É‡∂ö‡∑ä...</div>
  </div>

  <div class="bubbles">
    <span></span><span></span><span></span><span></span><span></span>
  </div>

  <div class="overlay">
    <div class="title">üéì Polegoda Maha Vidyalaya</div>
    <div class="subtitle">Live Fund Collection</div>
    <div class="amount" id="amount">Loading...</div>
    <div class="updated" id="updated">Loading...</div>
  </div>

  <div class="school-header">
    <img src="schoolLogo.png" class="school-logo">
    <div class="school-text">
      ‡∂¥‡∑ú‡∂Ω‡∑ö‡∂ú‡∑ú‡∂© ‡∂∏‡∑Ñ‡∑è ‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è‡∂Ω‡∂∫‡∑ì‡∂∫ ‡∑É‡∑í‡∂∫‡∑Ä‡∑É‡∑ä ‡∑É‡∑ê‡∂∏‡∂ª‡∑î‡∂∏‡∑ä ‡∂ã‡∑Ö‡∑ô‡∂Ω - 2026
    </div>
  </div>

</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
import { getFirestore, doc, onSnapshot }
from "https://www.gstatic.com/firebasejs/12.8.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSy...",
  authDomain: "polegodaschool.firebaseapp.com",
  projectId: "polegodaschool",
  storageBucket: "polegodaschool.firebasestorage.app",
  messagingSenderId: "1054750888989",
  appId: "1:1054750888989:web:9f50967e156aa9735622f4"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const fundRef = doc(db, "fund", "current");

onSnapshot(fundRef, (docSnap) => {
  if (!docSnap.exists()) return;

  const data = docSnap.data();

  document.getElementById("amount").innerText =
    "Rs. " + data.amount.toLocaleString("en-LK") + ".00";

  document.getElementById("updated").innerText =
    "Last updated: " + data.updatedAt.toDate().toLocaleString("en-LK");
});
</script>

</body>
</html>
